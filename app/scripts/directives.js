// Generated by CoffeeScript 1.6.2
(function() {
  angular.module('myApp').directive('drupalEdit', [
    'drupal', function(backend) {
      if (!backend.user && !true) {
        return {
          replace: true,
          template: '<span>no edit</span>'
        };
      } else {
        return {
          scope: {
            nid: "=drupalEdit"
          },
          replace: true,
          template: '<a class="edit" ng-href="' + base_path + 'node/{{nid}}/edit" target="_blank"><span class="glyphicon glyphicon-edit" data-toggle="tooltip" data-title="Edit"></span></a>',
          link: function(scope, elem, attrs) {
            console.log(elem);
            return elem[0].parentNode.classList.add('editable');
          }
        };
      }
    }
  ]).directive("myHtml", [
    "$timeout", "$sce", function(timer, $sce) {
      return {
        scope: {
          myHtml: "="
        },
        replace: true,
        template: "<span ng-bind-html='trustMe(myHtml)'></span>",
        controller: function($scope, $element) {
          $scope.trustMe = function(html) {
            return $sce.trustAsHtml(html);
          };
        }
      };
    }
  ]).directive("myFullscreen", [
    "$timeout", "$window", function(timer, $window) {
      return function(scope, elem, attrs) {
        var setSize;

        setSize = function() {
          var menu_height;

          menu_height = (attrs.myFullscreen ? 0 : angular.element("#menu").height());
          return angular.element(elem).height($window.innerHeight - menu_height).css("overflow", "auto");
        };
        angular.element($window).bind("resize", function() {
          return setSize();
        });
        return timer(setSize, 0);
      };
    }
  ]).directive("myProject", [
    function() {
      return {
        scope: {
          project: "=myProject"
        },
        replace: true,
        templateUrl: "views/project.html"
      };
    }
  ]).directive("myBio", [
    function() {
      return {
        scope: {
          bio: "=myBio"
        },
        templateUrl: "views/bio.html"
      };
    }
  ]);

}).call(this);
