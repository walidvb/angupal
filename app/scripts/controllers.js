// Generated by CoffeeScript 1.7.1
(function() {
  'use strict';
  angular.module('myApp').controller('mainCtrl', function($scope, $timeout, nodeService) {
    $scope.data = $scope.data || {};
    nodeService.getProjects().then(function(data) {
      return $scope.data.projects = data.data.nodes;
    });
    nodeService.getNode(4).then(function(data) {
      return $scope.data.masai = data.data.nodes[0].node;
    });
    $scope.toggleInfo = function(toOpen) {
      if (toOpen == null) {
        toOpen = null;
      }
      console.log(' requested ', toOpen);
      $scope.infoOpen = toOpen || !$scope.infoOpen;
      return console.log('togglingInfo to ', $scope.infoOpen);
    };
    $scope.toggleNav = function(toOpen) {
      if (toOpen == null) {
        toOpen = null;
      }
      $scope.navOpen = toOpen || !$scope.navOpen;
      console.log('$scope', $scope);
      return $scope.infoOpen = false;
    };
    Mousetrap.bind('i', function() {
      $scope.toggleInfo();
      return $scope.digest();
    });
    Mousetrap.bind('m', function() {
      $scope.toggleNav();
      return $scope.digest();
    });
    Mousetrap.bind('esc', function() {
      $scope.infoOpen(false);
      return $scope.$digest();
    });
    return window.onresize = function() {
      return $scope.digest;
    };
  }).controller('officeCtrl', [
    '$scope', 'nodeService', function($scope, service) {
      $scope.data.bios = new Array;
      service.getNode(2).then(function(data) {
        return $scope.data.bios.push(data.data.nodes[0].node);
      });
      return service.getNode(1).then(function(data) {
        return $scope.data.bios.push(data.data.nodes[0].node);
      });
    }
  ]).controller('infoCtrl', [
    '$scope', 'nodeService', function($scope, service) {
      return service.getNode(5).then(function(data) {
        return $scope.data.info = data.data.nodes[0].node;
      });
    }
  ]);

}).call(this);
